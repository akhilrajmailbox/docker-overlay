<!DOCTYPE html>
<html class="" lang="en"><head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# object: http://ogp.me/ns/object# article: http://ogp.me/ns/article# profile: http://ogp.me/ns/profile#">
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    

    <link crossorigin="anonymous" href="0.basics-docker-overlay_files/frameworks-92708af6226921bfe9823b6a92b8e3311112cd9af8a9222c8.css" integrity="sha256-knCK9iJpIb/pgjtqkrjjMRESzZr4qSIsiTmBZ8+RCNU=" media="all" rel="stylesheet">
    <link crossorigin="anonymous" href="0.basics-docker-overlay_files/github-21f8759fbb61e32add47042d2c73f9650a65b4cc6d9c01ccada4d.css" integrity="sha256-Ifh1n7th4yrdRwQtLHP5ZQpltMxtnAHMraTUTWHC3lU=" media="all" rel="stylesheet">
    
    
    
    

    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="Content-Language" content="en">
    <meta name="viewport" content="width=device-width">
    
    <title>dceu_tutorials/06-networking.md at 94fd5f3e9372a8f58ca7b25f3232305731f7cd36 · docker/dceu_tutorials</title>
    <link rel="search" type="application/opensearchdescription+xml" href="https://github.com/opensearch.xml" title="GitHub">
    <link rel="fluid-icon" href="https://github.com/fluidicon.png" title="GitHub">
    <link rel="apple-touch-icon" href="https://github.com/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="57x57" href="https://github.com/apple-touch-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="https://github.com/apple-touch-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="https://github.com/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="https://github.com/apple-touch-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="https://github.com/apple-touch-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="https://github.com/apple-touch-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="https://github.com/apple-touch-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="https://github.com/apple-touch-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="https://github.com/apple-touch-icon-180x180.png">
    <meta property="fb:app_id" content="1401488693436528">

      <meta content="https://avatars0.githubusercontent.com/u/5429470?v=3&amp;s=400" name="twitter:image:src"><meta content="@github" name="twitter:site"><meta content="summary" name="twitter:card"><meta content="docker/dceu_tutorials" name="twitter:title"><meta content="dceu_tutorials - DCEU Hands-On Tutorials" name="twitter:description">
      <meta content="https://avatars0.githubusercontent.com/u/5429470?v=3&amp;s=400" property="og:image"><meta content="GitHub" property="og:site_name"><meta content="object" property="og:type"><meta content="docker/dceu_tutorials" property="og:title"><meta content="https://github.com/docker/dceu_tutorials" property="og:url"><meta content="dceu_tutorials - DCEU Hands-On Tutorials" property="og:description">
      <meta name="browser-stats-url" content="https://api.github.com/_private/browser/stats">
    <meta name="browser-errors-url" content="https://api.github.com/_private/browser/errors">
    <link rel="assets" href="https://assets-cdn.github.com/">
    <link rel="web-socket" href="wss://live.github.com/_sockets/VjI6MTQyNTg1MTgwOmU5MGMwOGM3YjA1ZjMwMzY2MmI1MjYyNzExNzMxYTdmMzFmOTA1OTJiYWUzOTI0MGJlZTE3MWVkMzY5NjVkZjE=--d4062b34fb3090bf3843be5b0d1a25ce86c5c093">
    <meta name="pjax-timeout" content="1000">
    <link rel="sudo-modal" href="https://github.com/sessions/sudo_modal">
    <meta name="request-id" content="6A3327AD:44C6:2E5E03F:586CCB7E" data-pjax-transient="">

    <meta name="msapplication-TileImage" content="/windows-tile.png">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="selected-link" value="repo_source" data-pjax-transient="">

    <meta name="google-site-verification" content="KT5gs8h0wvaagLKAVWq8bbeNwnZZK1r1XQysX3xurLU">
<meta name="google-site-verification" content="ZzhVyEFwb7w3e0-uOTltm8Jsck2F5StVihD0exw2fsA">
    <meta name="google-analytics" content="UA-3769691-2">

<meta content="collector.githubapp.com" name="octolytics-host"><meta content="github" name="octolytics-app-id"><meta content="6A3327AD:44C6:2E5E03F:586CCB7E" name="octolytics-dimension-request_id"><meta content="20929624" name="octolytics-actor-id"><meta content="akhilrajmailbox" name="octolytics-actor-login"><meta content="61592470520919b6e3e94f49ea0cdac4171407ca3a719923d6095160b6dca689" name="octolytics-actor-hash">
<meta content="/&lt;user-name&gt;/&lt;repo-name&gt;/blob/show" data-pjax-transient="true" name="analytics-location">



  <meta class="js-ga-set" name="dimension1" content="Logged In">



        <meta name="hostname" content="github.com">
    <meta name="user-login" content="akhilrajmailbox">

        <meta name="expected-hostname" content="github.com">
      <meta name="js-proxy-site-detection-payload" content="MWY3NGNkMjliNjEwMGQ0Njg5NzIzYzdhOTUzMTllOTU0MDYyMmNkMDhkYmE2MzRlYmVjYTY2M2MwMTc3NTFlOXx7InJlbW90ZV9hZGRyZXNzIjoiMTA2LjUxLjM5LjE3MyIsInJlcXVlc3RfaWQiOiI2QTMzMjdBRDo0NEM2OjJFNUUwM0Y6NTg2Q0NCN0UiLCJ0aW1lc3RhbXAiOjE0ODM1MjQ5OTAsImhvc3QiOiJnaXRodWIuY29tIn0=">


      <link rel="mask-icon" href="https://assets-cdn.github.com/pinned-octocat.svg" color="#000000">
      <link rel="icon" type="image/x-icon" href="https://assets-cdn.github.com/favicon.ico">

    <meta name="html-safe-nonce" content="f85d7e27fc92d33ae52a50f536292ba2212c71a7">

    <meta http-equiv="x-pjax-version" content="252625938b3668c0d4945eaa339e2696">
    

      
  <meta name="description" content="dceu_tutorials - DCEU Hands-On Tutorials">
  <meta name="go-import" content="github.com/docker/dceu_tutorials git https://github.com/docker/dceu_tutorials.git">

  <meta content="5429470" name="octolytics-dimension-user_id"><meta content="docker" name="octolytics-dimension-user_login"><meta content="43850707" name="octolytics-dimension-repository_id"><meta content="docker/dceu_tutorials" name="octolytics-dimension-repository_nwo"><meta content="true" name="octolytics-dimension-repository_public"><meta content="false" name="octolytics-dimension-repository_is_fork"><meta content="43850707" name="octolytics-dimension-repository_network_root_id"><meta content="docker/dceu_tutorials" name="octolytics-dimension-repository_network_root_nwo">
  <link href="https://github.com/docker/dceu_tutorials/commits/94fd5f3e9372a8f58ca7b25f3232305731f7cd36.atom" rel="alternate" title="Recent Commits to dceu_tutorials:94fd5f3e9372a8f58ca7b25f3232305731f7cd36" type="application/atom+xml">


      <link rel="canonical" href="https://github.com/docker/dceu_tutorials/blob/94fd5f3e9372a8f58ca7b25f3232305731f7cd36/06-networking.md" data-pjax-transient="">
  </head>


  <body class="logged-in  env-production linux vis-public page-blob">
    <div id="js-pjax-loader-bar" class="pjax-loader-bar"><div class="progress"></div></div>
    <a href="#start-of-content" tabindex="1" class="accessibility-aid js-skip-to-content">Skip to content</a>

    
    
    



        <div class="header header-logged-in true" role="banner">
  <div class="container clearfix">

    <a class="header-logo-invertocat" href="https://github.com/" data-hotkey="g d" aria-label="Homepage" data-ga-click="Header, go to dashboard, icon:logo">
  <svg aria-hidden="true" class="octicon octicon-mark-github" height="28" version="1.1" viewBox="0 0 16 16" width="28"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path></svg>
</a>


        <div class="header-search scoped-search site-scoped-search js-site-search" role="search">
  <!-- '"` --><!-- </textarea></xmp> --><form accept-charset="UTF-8" action="/docker/dceu_tutorials/search" class="js-site-search-form" data-scoped-search-url="/docker/dceu_tutorials/search" data-unscoped-search-url="/search" method="get"><div style="margin:0;padding:0;display:inline"><input name="utf8" value="✓" type="hidden"></div>
    <label class="form-control header-search-wrapper js-chromeless-input-container">
      <div class="header-search-scope">This repository</div>
      <input class="form-control header-search-input js-site-search-focus js-site-search-field is-clearable" data-hotkey="s" name="q" placeholder="Search" aria-label="Search this repository" data-unscoped-placeholder="Search GitHub" data-scoped-placeholder="Search" autocapitalize="off" type="text">
    </label>
</form></div>


      <ul class="header-nav float-left" role="navigation">
        <li class="header-nav-item">
          <a href="https://github.com/pulls" aria-label="Pull requests you created" class="js-selected-navigation-item header-nav-link" data-ga-click="Header, click, Nav menu - item:pulls context:user" data-hotkey="g p" data-selected-links="/pulls /pulls/assigned /pulls/mentioned /pulls">
            Pull requests
</a>        </li>
        <li class="header-nav-item">
          <a href="https://github.com/issues" aria-label="Issues you created" class="js-selected-navigation-item header-nav-link" data-ga-click="Header, click, Nav menu - item:issues context:user" data-hotkey="g i" data-selected-links="/issues /issues/assigned /issues/mentioned /issues">
            Issues
</a>        </li>
          <li class="header-nav-item">
            <a class="header-nav-link" href="https://gist.github.com/" data-ga-click="Header, go to gist, text:gist">Gist</a>
          </li>
      </ul>

    
<ul class="header-nav user-nav float-right" id="user-links">
  <li class="header-nav-item">
    

  </li>

  <li class="header-nav-item dropdown js-menu-container">
    <a class="header-nav-link tooltipped tooltipped-s js-menu-target" href="https://github.com/new" aria-label="Create new…" data-ga-click="Header, create new, icon:add">
      <svg aria-hidden="true" class="octicon octicon-plus float-left" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 9H7v5H5V9H0V7h5V2h2v5h5z"></path></svg>
      <span class="dropdown-caret"></span>
    </a>

    <div class="dropdown-menu-content js-menu-content">
      <ul class="dropdown-menu dropdown-menu-sw">
        
<a class="dropdown-item" href="https://github.com/new" data-ga-click="Header, create new repository">
  New repository
</a>

  <a class="dropdown-item" href="https://github.com/new/import" data-ga-click="Header, import a repository">
    Import repository
  </a>

<a class="dropdown-item" href="https://gist.github.com/" data-ga-click="Header, create new gist">
  New gist
</a>

  <a class="dropdown-item" href="https://github.com/organizations/new" data-ga-click="Header, create new organization">
    New organization
  </a>



  <div class="dropdown-divider"></div>
  <div class="dropdown-header">
    <span title="docker/dceu_tutorials">This repository</span>
  </div>
    <a class="dropdown-item" href="https://github.com/docker/dceu_tutorials/issues/new" data-ga-click="Header, create new issue">
      New issue
    </a>

      </ul>
    </div>
  </li>

  <li class="header-nav-item dropdown js-menu-container">
    <a class="header-nav-link name tooltipped tooltipped-sw js-menu-target" href="https://github.com/akhilrajmailbox" aria-label="View profile and more" data-ga-click="Header, show menu, icon:avatar">
      <img alt="@akhilrajmailbox" class="avatar" src="0.basics-docker-overlay_files/20929624.png" width="20" height="20">
      <span class="dropdown-caret"></span>
    </a>

    <div class="dropdown-menu-content js-menu-content">
      <div class="dropdown-menu dropdown-menu-sw">
        <div class="dropdown-header header-nav-current-user css-truncate">
          Signed in as <strong class="css-truncate-target">akhilrajmailbox</strong>
        </div>

        <div class="dropdown-divider"></div>

        <a class="dropdown-item" href="https://github.com/akhilrajmailbox" data-ga-click="Header, go to profile, text:your profile">
          Your profile
        </a>
        <a class="dropdown-item" href="https://github.com/akhilrajmailbox?tab=stars" data-ga-click="Header, go to starred repos, text:your stars">
          Your stars
        </a>
        <a class="dropdown-item" href="https://github.com/explore" data-ga-click="Header, go to explore, text:explore">
          Explore
        </a>
          <a class="dropdown-item" href="https://github.com/integrations" data-ga-click="Header, go to integrations, text:integrations">
            Integrations
          </a>
        <a class="dropdown-item" href="https://help.github.com/" data-ga-click="Header, go to help, text:help">
          Help
        </a>

        <div class="dropdown-divider"></div>

        <a class="dropdown-item" href="https://github.com/settings/profile" data-ga-click="Header, go to settings, icon:settings">
          Settings
        </a>

        <!-- '"` --><!-- </textarea></xmp> --><form accept-charset="UTF-8" action="/logout" class="logout-form" method="post"><div style="margin:0;padding:0;display:inline"><input name="utf8" value="✓" type="hidden"><input name="authenticity_token" value="Eoo1M+MnseNxiXxstXEIZeCq/iJuY0+p4apx51IIjTr8KlRAH5nx47yMUJWtACh0dpjgw/ovo42S95IRJKCIJA==" type="hidden"></div>
          <button type="submit" class="dropdown-item dropdown-signout" data-ga-click="Header, sign out, icon:logout">
            Sign out
          </button>
</form>      </div>
    </div>
  </li>
</ul>


    
  </div>
</div>


      


    <div id="start-of-content" class="accessibility-aid"></div>

      <div id="js-flash-container">
</div>


    <div role="main">
        <div itemscope="" itemtype="http://schema.org/SoftwareSourceCode">
    <div id="js-repo-pjax-container" data-pjax-container="">
      
<div class="pagehead repohead instapaper_ignore readability-menu experiment-repo-nav">
  <div class="container repohead-details-container">

    

<ul class="pagehead-actions">

  <li>
        <!-- '"` --><!-- </textarea></xmp> --><form accept-charset="UTF-8" action="/notifications/subscribe" class="js-social-container" data-autosubmit="true" data-remote="true" method="post"><div style="margin:0;padding:0;display:inline"><input name="utf8" value="✓" type="hidden"><input name="authenticity_token" value="77cVcXMscdQFyC1VrKWoVznd/qB7cIAWzQMn+3pVldxlY0INQZg0Vrgoq2cqdYkLA+HCMZPIkg0jgMbShzMynQ==" type="hidden"></div>      <input class="form-control" id="repository_id" name="repository_id" value="43850707" type="hidden">

        <div class="select-menu js-menu-container js-select-menu">
          <a href="https://github.com/docker/dceu_tutorials/subscription" class="btn btn-sm btn-with-count select-menu-button js-menu-target" role="button" tabindex="0" aria-haspopup="true" data-ga-click="Repository, click Watch settings, action:blob#show">
            <span class="js-select-button">
              <svg aria-hidden="true" class="octicon octicon-eye" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M8.06 2C3 2 0 8 0 8s3 6 8.06 6C13 14 16 8 16 8s-3-6-7.94-6zM8 12c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4zm2-4c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"></path></svg>
              Watch
            </span>
          </a>
          <a class="social-count js-social-count" href="https://github.com/docker/dceu_tutorials/watchers" aria-label="37 users are watching this repository">
            37
          </a>

        <div class="select-menu-modal-holder">
          <div class="select-menu-modal subscription-menu-modal js-menu-content" aria-hidden="true">
            <div class="select-menu-header js-navigation-enable" tabindex="-1">
              <svg aria-label="Close" class="octicon octicon-x js-menu-close" height="16" role="img" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M7.48 8l3.75 3.75-1.48 1.48L6 9.48l-3.75 3.75-1.48-1.48L4.52 8 .77 4.25l1.48-1.48L6 6.52l3.75-3.75 1.48 1.48z"></path></svg>
              <span class="select-menu-title">Notifications</span>
            </div>

              <div class="select-menu-list js-navigation-container" role="menu">

                <div class="select-menu-item js-navigation-item selected" role="menuitem" tabindex="0">
                  <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"></path></svg>
                  <div class="select-menu-item-text">
                    <input checked="checked" id="do_included" name="do" value="included" type="radio">
                    <span class="select-menu-item-heading">Not watching</span>
                    <span class="description">Be notified when participating or @mentioned.</span>
                    <span class="js-select-button-text hidden-select-button-text">
                      <svg aria-hidden="true" class="octicon octicon-eye" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M8.06 2C3 2 0 8 0 8s3 6 8.06 6C13 14 16 8 16 8s-3-6-7.94-6zM8 12c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4zm2-4c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"></path></svg>
                      Watch
                    </span>
                  </div>
                </div>

                <div class="select-menu-item js-navigation-item " role="menuitem" tabindex="0">
                  <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"></path></svg>
                  <div class="select-menu-item-text">
                    <input id="do_subscribed" name="do" value="subscribed" type="radio">
                    <span class="select-menu-item-heading">Watching</span>
                    <span class="description">Be notified of all conversations.</span>
                    <span class="js-select-button-text hidden-select-button-text">
                      <svg aria-hidden="true" class="octicon octicon-eye" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M8.06 2C3 2 0 8 0 8s3 6 8.06 6C13 14 16 8 16 8s-3-6-7.94-6zM8 12c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4zm2-4c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"></path></svg>
                      Unwatch
                    </span>
                  </div>
                </div>

                <div class="select-menu-item js-navigation-item " role="menuitem" tabindex="0">
                  <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"></path></svg>
                  <div class="select-menu-item-text">
                    <input id="do_ignore" name="do" value="ignore" type="radio">
                    <span class="select-menu-item-heading">Ignoring</span>
                    <span class="description">Never be notified.</span>
                    <span class="js-select-button-text hidden-select-button-text">
                      <svg aria-hidden="true" class="octicon octicon-mute" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M8 2.81v10.38c0 .67-.81 1-1.28.53L3 10H1c-.55 0-1-.45-1-1V7c0-.55.45-1 1-1h2l3.72-3.72C7.19 1.81 8 2.14 8 2.81zm7.53 3.22l-1.06-1.06-1.97 1.97-1.97-1.97-1.06 1.06L11.44 8 9.47 9.97l1.06 1.06 1.97-1.97 1.97 1.97 1.06-1.06L13.56 8l1.97-1.97z"></path></svg>
                      Stop ignoring
                    </span>
                  </div>
                </div>

              </div>

            </div>
          </div>
        </div>
</form>
  </li>

  <li>
    
  <div class="js-toggler-container js-social-container starring-container ">

    <!-- '"` --><!-- </textarea></xmp> --><form accept-charset="UTF-8" action="/docker/dceu_tutorials/unstar" class="starred" data-remote="true" method="post"><div style="margin:0;padding:0;display:inline"><input name="utf8" value="✓" type="hidden"><input name="authenticity_token" value="Vmt0Thr1kQJpJ7LUMfVUz1LiUE3sMIOTkJaGHLb8jmjfTLK/rL7N21aRwAWLLzmdujWNiV3psy9pHLlHFQsc6w==" type="hidden"></div>
      <button type="submit" class="btn btn-sm btn-with-count js-toggler-target" aria-label="Unstar this repository" title="Unstar docker/dceu_tutorials" data-ga-click="Repository, click unstar button, action:blob#show; text:Unstar">
        <svg aria-hidden="true" class="octicon octicon-star" height="16" version="1.1" viewBox="0 0 14 16" width="14"><path fill-rule="evenodd" d="M14 6l-4.9-.64L7 1 4.9 5.36 0 6l3.6 3.26L2.67 14 7 11.67 11.33 14l-.93-4.74z"></path></svg>
        Unstar
      </button>
        <a class="social-count js-social-count" href="https://github.com/docker/dceu_tutorials/stargazers" aria-label="145 users starred this repository">
          145
        </a>
</form>
    <!-- '"` --><!-- </textarea></xmp> --><form accept-charset="UTF-8" action="/docker/dceu_tutorials/star" class="unstarred" data-remote="true" method="post"><div style="margin:0;padding:0;display:inline"><input name="utf8" value="✓" type="hidden"><input name="authenticity_token" value="3DcXVhP/fUc6W57SzqL/u5Q6ByKMC0PYzhCMgDRMOq7fsf3NQmLGCvfKwEP/Dvhju9uZXsEYs5H00TvTvOExiA==" type="hidden"></div>
      <button type="submit" class="btn btn-sm btn-with-count js-toggler-target" aria-label="Star this repository" title="Star docker/dceu_tutorials" data-ga-click="Repository, click star button, action:blob#show; text:Star">
        <svg aria-hidden="true" class="octicon octicon-star" height="16" version="1.1" viewBox="0 0 14 16" width="14"><path fill-rule="evenodd" d="M14 6l-4.9-.64L7 1 4.9 5.36 0 6l3.6 3.26L2.67 14 7 11.67 11.33 14l-.93-4.74z"></path></svg>
        Star
      </button>
        <a class="social-count js-social-count" href="https://github.com/docker/dceu_tutorials/stargazers" aria-label="145 users starred this repository">
          145
        </a>
</form>  </div>

  </li>

  <li>
          <!-- '"` --><!-- </textarea></xmp> --><form accept-charset="UTF-8" action="/docker/dceu_tutorials/fork" class="btn-with-count" method="post"><div style="margin:0;padding:0;display:inline"><input name="utf8" value="✓" type="hidden"><input name="authenticity_token" value="xEDgmBUZCYl/zsPDnZmPKi9GOez/YcYPxpBBc69/3brT+XbCPyAx0XjodDw3keNE+qYvsAYatAMBmfIgN3x4RQ==" type="hidden"></div>
            <button type="submit" class="btn btn-sm btn-with-count" data-ga-click="Repository, show fork modal, action:blob#show; text:Fork" title="Fork your own copy of docker/dceu_tutorials to your account" aria-label="Fork your own copy of docker/dceu_tutorials to your account">
              <svg aria-hidden="true" class="octicon octicon-repo-forked" height="16" version="1.1" viewBox="0 0 10 16" width="10"><path fill-rule="evenodd" d="M8 1a1.993 1.993 0 0 0-1 3.72V6L5 8 3 6V4.72A1.993 1.993 0 0 0 2 1a1.993 1.993 0 0 0-1 3.72V6.5l3 3v1.78A1.993 1.993 0 0 0 5 15a1.993 1.993 0 0 0 1-3.72V9.5l3-3V4.72A1.993 1.993 0 0 0 8 1zM2 4.2C1.34 4.2.8 3.65.8 3c0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zm3 10c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zm3-10c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2z"></path></svg>
              Fork
            </button>
</form>
    <a href="https://github.com/docker/dceu_tutorials/network" class="social-count" aria-label="95 users forked this repository">
      95
    </a>
  </li>
</ul>

    <h1 class="public ">
  <svg aria-hidden="true" class="octicon octicon-repo" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M4 9H3V8h1v1zm0-3H3v1h1V6zm0-2H3v1h1V4zm0-2H3v1h1V2zm8-1v12c0 .55-.45 1-1 1H6v2l-1.5-1.5L3 16v-2H1c-.55 0-1-.45-1-1V1c0-.55.45-1 1-1h10c.55 0 1 .45 1 1zm-1 10H1v2h2v-1h3v1h5v-2zm0-10H2v9h9V1z"></path></svg>
  <span class="author" itemprop="author"><a href="https://github.com/docker" class="url fn" rel="author">docker</a></span><!--
--><span class="path-divider">/</span><!--
--><strong itemprop="name"><a href="https://github.com/docker/dceu_tutorials" data-pjax="#js-repo-pjax-container">dceu_tutorials</a></strong>

</h1>

  </div>
  <div class="container">
    
<nav class="reponav js-repo-nav js-sidenav-container-pjax" itemscope="" itemtype="http://schema.org/BreadcrumbList" role="navigation" data-pjax="#js-repo-pjax-container">

  <span itemscope="" itemtype="http://schema.org/ListItem" itemprop="itemListElement">
    <a href="https://github.com/docker/dceu_tutorials" class="js-selected-navigation-item selected reponav-item" data-hotkey="g c" data-selected-links="repo_source repo_downloads repo_commits repo_releases repo_tags repo_branches /docker/dceu_tutorials" itemprop="url">
      <svg aria-hidden="true" class="octicon octicon-code" height="16" version="1.1" viewBox="0 0 14 16" width="14"><path fill-rule="evenodd" d="M9.5 3L8 4.5 11.5 8 8 11.5 9.5 13 14 8 9.5 3zm-5 0L0 8l4.5 5L6 11.5 2.5 8 6 4.5 4.5 3z"></path></svg>
      <span itemprop="name">Code</span>
      <meta itemprop="position" content="1">
</a>  </span>

    <span itemscope="" itemtype="http://schema.org/ListItem" itemprop="itemListElement">
      <a href="https://github.com/docker/dceu_tutorials/issues" class="js-selected-navigation-item reponav-item" data-hotkey="g i" data-selected-links="repo_issues repo_labels repo_milestones /docker/dceu_tutorials/issues" itemprop="url">
        <svg aria-hidden="true" class="octicon octicon-issue-opened" height="16" version="1.1" viewBox="0 0 14 16" width="14"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg>
        <span itemprop="name">Issues</span>
        <span class="counter">2</span>
        <meta itemprop="position" content="2">
</a>    </span>

  <span itemscope="" itemtype="http://schema.org/ListItem" itemprop="itemListElement">
    <a href="https://github.com/docker/dceu_tutorials/pulls" class="js-selected-navigation-item reponav-item" data-hotkey="g p" data-selected-links="repo_pulls /docker/dceu_tutorials/pulls" itemprop="url">
      <svg aria-hidden="true" class="octicon octicon-git-pull-request" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M11 11.28V5c-.03-.78-.34-1.47-.94-2.06C9.46 2.35 8.78 2.03 8 2H7V0L4 3l3 3V4h1c.27.02.48.11.69.31.21.2.3.42.31.69v6.28A1.993 1.993 0 0 0 10 15a1.993 1.993 0 0 0 1-3.72zm-1 2.92c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zM4 3c0-1.11-.89-2-2-2a1.993 1.993 0 0 0-1 3.72v6.56A1.993 1.993 0 0 0 2 15a1.993 1.993 0 0 0 1-3.72V4.72c.59-.34 1-.98 1-1.72zm-.8 10c0 .66-.55 1.2-1.2 1.2-.65 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2zM2 4.2C1.34 4.2.8 3.65.8 3c0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2z"></path></svg>
      <span itemprop="name">Pull requests</span>
      <span class="counter">2</span>
      <meta itemprop="position" content="3">
</a>  </span>

  <a href="https://github.com/docker/dceu_tutorials/projects" class="js-selected-navigation-item reponav-item" data-selected-links="repo_projects new_repo_project repo_project /docker/dceu_tutorials/projects">
    <svg aria-hidden="true" class="octicon octicon-project" height="16" version="1.1" viewBox="0 0 15 16" width="15"><path fill-rule="evenodd" d="M10 12h3V2h-3v10zm-4-2h3V2H6v8zm-4 4h3V2H2v12zm-1 1h13V1H1v14zM14 0H1a1 1 0 0 0-1 1v14a1 1 0 0 0 1 1h13a1 1 0 0 0 1-1V1a1 1 0 0 0-1-1z"></path></svg>
    Projects
    <span class="counter">0</span>
</a>
    <a href="https://github.com/docker/dceu_tutorials/wiki" class="js-selected-navigation-item reponav-item" data-hotkey="g w" data-selected-links="repo_wiki /docker/dceu_tutorials/wiki">
      <svg aria-hidden="true" class="octicon octicon-book" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M3 5h4v1H3V5zm0 3h4V7H3v1zm0 2h4V9H3v1zm11-5h-4v1h4V5zm0 2h-4v1h4V7zm0 2h-4v1h4V9zm2-6v9c0 .55-.45 1-1 1H9.5l-1 1-1-1H2c-.55 0-1-.45-1-1V3c0-.55.45-1 1-1h5.5l1 1 1-1H15c.55 0 1 .45 1 1zm-8 .5L7.5 3H2v9h6V3.5zm7-.5H9.5l-.5.5V12h6V3z"></path></svg>
      Wiki
</a>

  <a href="https://github.com/docker/dceu_tutorials/pulse" class="js-selected-navigation-item reponav-item" data-selected-links="pulse /docker/dceu_tutorials/pulse">
    <svg aria-hidden="true" class="octicon octicon-pulse" height="16" version="1.1" viewBox="0 0 14 16" width="14"><path fill-rule="evenodd" d="M11.5 8L8.8 5.4 6.6 8.5 5.5 1.6 2.38 8H0v2h3.6l.9-1.8.9 5.4L9 8.5l1.6 1.5H14V8z"></path></svg>
    Pulse
</a>
  <a href="https://github.com/docker/dceu_tutorials/graphs" class="js-selected-navigation-item reponav-item" data-selected-links="repo_graphs repo_contributors /docker/dceu_tutorials/graphs">
    <svg aria-hidden="true" class="octicon octicon-graph" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M16 14v1H0V0h1v14h15zM5 13H3V8h2v5zm4 0H7V3h2v10zm4 0h-2V6h2v7z"></path></svg>
    Graphs
</a>

</nav>

  </div>
</div>

<div class="container new-discussion-timeline experiment-repo-nav">
  <div class="repository-content">

    

<a href="https://github.com/docker/dceu_tutorials/blob/94fd5f3e9372a8f58ca7b25f3232305731f7cd36/06-networking.md" class="d-none js-permalink-shortcut" data-hotkey="y">Permalink</a>

<!-- blob contrib key: blob_contributors:v21:65b125c39704a3fc4911e6f0bdaebb40 -->

<div class="file-navigation js-zeroclipboard-container">
  
<div class="select-menu branch-select-menu js-menu-container js-select-menu float-left">
  <button class="btn btn-sm select-menu-button js-menu-target css-truncate" data-hotkey="w" type="button" aria-label="Switch branches or tags" tabindex="0" aria-haspopup="true">
    <i>Tree:</i>
    <span class="js-select-button css-truncate-target">94fd5f3e93</span>
  </button>

  <div class="select-menu-modal-holder js-menu-content js-navigation-container" data-pjax="" aria-hidden="true">

    <div class="select-menu-modal">
      <div class="select-menu-header">
        <svg aria-label="Close" class="octicon octicon-x js-menu-close" height="16" role="img" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M7.48 8l3.75 3.75-1.48 1.48L6 9.48l-3.75 3.75-1.48-1.48L4.52 8 .77 4.25l1.48-1.48L6 6.52l3.75-3.75 1.48 1.48z"></path></svg>
        <span class="select-menu-title">Switch branches/tags</span>
      </div>

      <div class="select-menu-filters">
        <div class="select-menu-text-filter">
          <input aria-label="Filter branches/tags" id="context-commitish-filter-field" class="form-control js-filterable-field js-navigation-enable" placeholder="Filter branches/tags" type="text">
        </div>
        <div class="select-menu-tabs">
          <ul>
            <li class="select-menu-tab">
              <a href="#" data-tab-filter="branches" data-filter-placeholder="Filter branches/tags" class="js-select-menu-tab" role="tab">Branches</a>
            </li>
            <li class="select-menu-tab">
              <a href="#" data-tab-filter="tags" data-filter-placeholder="Find a tag…" class="js-select-menu-tab" role="tab">Tags</a>
            </li>
          </ul>
        </div>
      </div>

      <div class="select-menu-list select-menu-tab-bucket js-select-menu-tab-bucket" data-tab-filter="branches" role="menu">

        <div data-filterable-for="context-commitish-filter-field" data-filterable-type="substring">


            <a class="select-menu-item js-navigation-item js-navigation-open " href="https://github.com/docker/dceu_tutorials/blob/master/06-networking.md" data-name="master" data-skip-pjax="true" rel="nofollow">
              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"></path></svg>
              <span class="select-menu-item-text css-truncate-target js-select-menu-filter-text">
                master
              </span>
            </a>
        </div>

          <div class="select-menu-no-results">Nothing to show</div>
      </div>

      <div class="select-menu-list select-menu-tab-bucket js-select-menu-tab-bucket" data-tab-filter="tags">
        <div data-filterable-for="context-commitish-filter-field" data-filterable-type="substring">


        </div>

        <div class="select-menu-no-results">Nothing to show</div>
      </div>

    </div>
  </div>
</div>

  <div class="BtnGroup float-right">
    <a href="https://github.com/docker/dceu_tutorials/find/94fd5f3e9372a8f58ca7b25f3232305731f7cd36" class="js-pjax-capture-input btn btn-sm BtnGroup-item" data-pjax="" data-hotkey="t">
      Find file
    </a>
    <button aria-label="Copy file path to clipboard" class="js-zeroclipboard btn btn-sm BtnGroup-item tooltipped tooltipped-s" data-copied-hint="Copied!" type="button">Copy path</button>
  </div>
  <div class="breadcrumb js-zeroclipboard-target">
    <span class="repo-root js-repo-root"><span class="js-path-segment"><a href="https://github.com/docker/dceu_tutorials/tree/94fd5f3e9372a8f58ca7b25f3232305731f7cd36"><span>dceu_tutorials</span></a></span></span><span class="separator">/</span><strong class="final-path">06-networking.md</strong>
  </div>
</div>


  <div class="commit-tease">
      <span class="float-right">
        <a class="commit-tease-sha" href="https://github.com/docker/dceu_tutorials/commit/c55acb597cb3b8f7e47458b9aabee743589a66c9" data-pjax="">
          c55acb5
        </a>
        <relative-time datetime="2016-01-22T21:35:24Z" title="23 Jan 2016, 3:05 AM IST">on 23 Jan 2016</relative-time>
      </span>
      <div>
        <img alt="" class="avatar" data-canonical-src="https://1.gravatar.com/avatar/ee85590253728332b1be8f15f294128c?d=https%3A%2F%2Fassets-cdn.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png&amp;r=x&amp;s=140" src="0.basics-docker-overlay_files/68747470733a2f2f312e67726176617461722e636f6d2f6176617461722.jpeg" width="20" height="20">
        <span class="user-mention">Nico</span>
          <a href="https://github.com/docker/dceu_tutorials/commit/c55acb597cb3b8f7e47458b9aabee743589a66c9" class="message" data-pjax="true" title=" changed lab names"> changed lab names</a>
      </div>

    <div class="commit-tease-contributors">
      <button type="button" class="btn-link muted-link contributors-toggle" data-facebox="#blob_contributors_box">
        <strong>0</strong>
         contributors
      </button>
      
    </div>

    <div id="blob_contributors_box" style="display:none">
      <h2 class="facebox-header" data-facebox-id="facebox-header">Users who have contributed to this file</h2>
      <ul class="facebox-user-list" data-facebox-id="facebox-description">
      </ul>
    </div>
  </div>


<div class="file">
  <div class="file-header">
  <div class="file-actions">

    <div class="BtnGroup">
      <a href="https://github.com/docker/dceu_tutorials/raw/94fd5f3e9372a8f58ca7b25f3232305731f7cd36/06-networking.md" class="btn btn-sm BtnGroup-item" id="raw-url">Raw</a>
        <a href="https://github.com/docker/dceu_tutorials/blame/94fd5f3e9372a8f58ca7b25f3232305731f7cd36/06-networking.md" class="btn btn-sm js-update-url-with-hash BtnGroup-item">Blame</a>
      <a href="https://github.com/docker/dceu_tutorials/commits/94fd5f3e9372a8f58ca7b25f3232305731f7cd36/06-networking.md" class="btn btn-sm BtnGroup-item" rel="nofollow">History</a>
    </div>


        <button type="button" class="btn-octicon disabled tooltipped tooltipped-nw" aria-label="You must be on a branch to make or propose changes to this file">
          <svg aria-hidden="true" class="octicon octicon-pencil" height="16" version="1.1" viewBox="0 0 14 16" width="14"><path fill-rule="evenodd" d="M0 12v3h3l8-8-3-3-8 8zm3 2H1v-2h1v1h1v1zm10.3-9.3L12 6 9 3l1.3-1.3a.996.996 0 0 1 1.41 0l1.59 1.59c.39.39.39 1.02 0 1.41z"></path></svg>
        </button>
        <button type="button" class="btn-octicon btn-octicon-danger disabled tooltipped tooltipped-nw" aria-label="You must be on a branch to make or propose changes to this file">
          <svg aria-hidden="true" class="octicon octicon-trashcan" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M11 2H9c0-.55-.45-1-1-1H5c-.55 0-1 .45-1 1H2c-.55 0-1 .45-1 1v1c0 .55.45 1 1 1v9c0 .55.45 1 1 1h7c.55 0 1-.45 1-1V5c.55 0 1-.45 1-1V3c0-.55-.45-1-1-1zm-1 12H3V5h1v8h1V5h1v8h1V5h1v8h1V5h1v9zm1-10H2V3h9v1z"></path></svg>
        </button>
  </div>

  <div class="file-info">
      <span class="file-mode" title="File mode">executable file</span>
      <span class="file-info-divider"></span>
      424 lines (271 sloc)
      <span class="file-info-divider"></span>
    17.9 KB
  </div>
</div>

  
  <div id="readme" class="readme blob instapaper_body">
    <article class="markdown-body entry-content" itemprop="text"><h1><a id="user-content-lab-06-docker-networking" class="anchor" href="#lab-06-docker-networking" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Lab 06: Docker Networking</h1>

<blockquote>
<p><strong>Difficulty</strong>: Advanced</p>

<p><strong>Time</strong>: 30-40 minutes</p>

<p><strong>Tasks</strong>:</p>

<ul>
<li><a href="#prerequisites">Prerequisites</a></li>
<li><a href="#task-1-set-up-a-key-value-store">Task 1: Set up a key-value store</a></li>
<li><a href="#task-2-configure-the-engine-to-use-key-value-store">Task 2: Configure the engines to use key-value store</a></li>
<li><a href="#task-3-learn-the-default-networks">Task 3: Learn the default networks</a></li>
<li><a href="#task-4-create-the-red-overlay-network">Task 4. Create the "RED" overlay Network</a></li>
<li><a href="#task-5-run-containers-on-the-red-network">Task 5: Run Containers on the RED network</a></li>
<li><a href="#task-6-create-the-blue-overlay-network">Task 6: Create the "BLUE" Overlay Network</a></li>
<li><a href="#task-7-cross-network-communication">Task 7: Cross-Network Communication</a></li>
<li><a href="#task-8-reconnecting-containers">Task 8: Reconnecting Containers</a></li>
</ul>
</blockquote>

<h1><a id="user-content-get-started-with-multi-host-networking" class="anchor" href="#get-started-with-multi-host-networking" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Get started with multi-host networking</h1>

<p>Before Docker 1.9, containers running on different hosts had to use 
the underlying host's TCP/IP stack to communicate among themselves. They
 did this by mapping a host TCP/UDP port to a container TCP/UDP port. 
This architecture was limiting and unscalable.</p>

<p>Docker 1.9 revamped networking and introduced a new native networking
 driver that enables multi-host networking. Multi-host networking makes 
possible communication among containers residing on separate hosts 
without relying on the hosts' TCP/IP stacks.</p>

<p>This lab illustrates the basics of creating a multi-host network. Docker Engine
supports this out-of-the-box through the <code>overlay</code> network.  Unlike <code>bridge</code>
networks, <code>overlay</code> networks require some pre-existing conditions before you can
create one. These conditions are:</p>

<ul>
<li>Access to a key-value store. Engine supports Consul, etcd, ZooKeeper
 (Distributed store), and BoltDB (Local store) as key-value stores.</li>
<li>A cluster of hosts with connectivity to the key-value store.</li>
<li>A properly configured Engine <code>daemon</code> on each host in the cluster.</li>
<li>Underlying host network must allow the following TCP/UDP Ports:

<ul>
<li>Docker Engine port (e.g TCP 2375)</li>
<li>VXLAN: UDP 4789</li>
<li>Serf: TCP + UDP 7946</li>
<li>Key-value store ( e.g for Consul TCP 8500)</li>
</ul></li>
<li>The Docker host must be running at least version 3.16 or later of the Linux kernel</li>
</ul>

<h2><a id="user-content-prerequisites" class="anchor" href="#prerequisites" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Prerequisites</h2>

<p>You will use all four nodes : <code>node-0</code>,<code>node-1</code>,<code>node-2</code>, and <code>node-3</code>.  On each node, do the following:</p>

<ul>
<li>Check for running containers with <code>docker ps</code> and stop any containers if they are running.</li>
<li><p>Make sure the <code>DOCKER_OPTS</code> value in <code>/etc/default/docker</code> file is commented out like this:</p>

<pre><code>    # Use DOCKER_OPTS to modify the daemon startup options.
    #DOCKER_OPTS="--dns 8.8.8.8 --dns 8.8.4.4"
</code></pre>

<p>Commenting this line out ensures the <code>daemon</code> uses default settings.  If you had to comment this line out you will need to restart the docker daemon - <code>service docker restart</code>.</p></li>
<li><p>In your shell, unset the <code>DOCKER_HOST</code> variable:</p>

<pre><code>$ unset DOCKER_HOST
</code></pre></li>
</ul>

<p>Throughout this lab, you may be required to substitute the IP of an 
instance. AWS only allows certain TCP ports on the private AWS network. 
Therefore, make sure you use private IP addresses (10.X.X.X) when you 
substitute the IP of the instance.</p>

<p>Finally, some of the actions in this lab require <code>sudo</code>. Where <code>sudo</code> is required, the lab so indicates.</p>

<h2><a id="user-content-task-1-set-up-a-key-value-store" class="anchor" href="#task-1-set-up-a-key-value-store" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Task 1: Set up a key-value store</h2>

<p>An overlay network requires a key-value store. The store maintains 
information about the network state which includes discovery, networks, 
endpoints, IP Addresses, and more. The Docker Engine currently supports 
Consul, etcd, ZooKeeper (Distributed store), and BoltDB (Local store) 
key-value store stores. This example uses Consul.</p>

<ol>
<li><p>SSH into <code>node-0</code>.</p></li>
<li><p>Start the Consul container.</p>

<pre><code>$ docker run -d -p 8500:8500 -h consul --name consul progrium/consul -server -bootstrap
Unable to find image 'progrium/consul:latest' locally
latest: Pulling from progrium/consul
3b4d28ce80e4: Pull complete
e5ab901dcf2d: Pull complete
...content omitted...
</code></pre></li>
<li><p>Ensure that the container is Up and listening to port 8500</p>

<pre><code>    $ docker ps
    CONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS              PORTS                                                                            NAMES
    3092b9afa96c        progrium/consul     "/bin/start -server -"   35 seconds ago      Up 34 seconds       53/tcp, 53/udp, 8300-8302/tcp, 8301-8302/udp, 8400/tcp, 0.0.0.0:8500-&gt;8500/tcp   consul
</code></pre>

<p>The diagram below shows <strong>node-0</strong> configured as the key-value store.</p></li>
</ol>

<p><a href="https://github.com/docker/dceu_tutorials/blob/94fd5f3e9372a8f58ca7b25f3232305731f7cd36/images/tut6-step1.png" target="_blank"><img src="0.basics-docker-overlay_files/tut6-step1.png" alt="" style="max-width:100%;"></a></p>

<h2><a id="user-content-task-2-configure-the-engine-to-use-key-value-store" class="anchor" href="#task-2-configure-the-engine-to-use-key-value-store" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Task 2: Configure the Engine to use key-value store</h2>

<p>On <code>node-1</code>, <code>node-2</code>,and <code>node-3</code>, reconfigure the Docker daemon to listen on TCP port <code>2375</code> and to use the Consul key-value store created in Task 1.</p>

<ol>
<li><p>SSH to <code>node-1</code>.</p></li>
<li><p>Edit the <code>/etc/default/docker</code> file with your favorite editor (<code>vi</code> and <code>nano</code> are both available).</p>

<pre><code>$ sudo vi /etc/default/docker
</code></pre></li>
<li><p>Add the following <code>DOCKER_OPTS</code>.</p>

<p>Make sure you provide the <code>Private IP</code> value for <code>node-0</code> where you started Consul.</p>

<pre><code>DOCKER_OPTS="-H tcp://0.0.0.0:2375 -H unix:///var/run/docker.sock --cluster-store=consul://&lt;NODE-0-PRIVATE-IP&gt;:8500/network --cluster-advertise=eth0:2375"
</code></pre></li>
</ol>

<p>Note: node-0 has to be healthy and reachable by each of the node-1,2,3.</p>

<ol>
<li><p>Save and close the file.</p></li>
<li><p>Restart the Docker Engine for these settings to take effect:</p>

<pre><code>$ sudo service docker restart
docker stop/waiting
docker start/running, process 2003
</code></pre></li>
<li><p>Ensure that each engine restarts successfully:</p>

<pre><code>$ docker ps
CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES
</code></pre></li>
<li><p>Repeat steps 2-6 on <code>node-2</code>.</p></li>
<li><p>Repeat steps 2-6 on <code>node-3</code>.</p></li>
</ol>

<h2><a id="user-content-task-3-learn-the-default-networks" class="anchor" href="#task-3-learn-the-default-networks" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Task 3: Learn the default networks</h2>

<p>Before you create an overlay network, it is a good idea to understand
 the default networks that Docker creates. Go ahead and list the 
networks on any of your nodes.</p>

<pre><code>$ docker network ls
NETWORK ID          NAME                DRIVER
38ffb13fa56d        none                null
34c7921e8cb7        host                host
25b439c6c8ca        bridge              bridge   
</code></pre>

<p>Each Docker host has these default networks, only the IDs differ.</p>

<p>Historically, these three networks are part of Docker's implementation. When you run a container you can use the <code>--net</code> flag to specify which network you want to run the container on. These three networks are still available to you.</p>

<ul>
<li><p>The <code>bridge</code> network represents the <code>docker0</code> network present in all Docker installations. Unless you specify otherwise with the <code>docker run --net=&lt;NETWORK&gt;</code> option, the Docker daemon connects containers to this network by default.</p></li>
<li><p>The <code>none</code> network adds a container to a container-specific network stack. That container lacks a network interface.</p></li>
<li><p>The <code>host</code> network adds a container on the hosts 
network stack. You'll find the network configuration inside the 
container is identical to the host.</p></li>
</ul>

<p>The new native <code>overlay</code> network driver supports multi-host networking natively out-of-the-box. This support is accomplished with the help of <code>libnetwork</code>, a built-in VXLAN-based overlay network driver, and Docker's <code>libkv</code> library.</p>

<h2><a id="user-content-task-4-create-the-red-overlay-network" class="anchor" href="#task-4-create-the-red-overlay-network" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Task 4. Create the "RED" overlay Network</h2>

<p>Now that your three nodes are configured to use the key-value store, 
you can create an overlay network on any node. When you create the 
network, it is distributed to all the nodes.</p>

<ol>
<li><p>Pick one of you three nodes (node-1, node-2 or node-3) and log into that node.</p></li>
<li><p>Create an <code>overlay</code> network.</p>

<pre><code>$ docker network create -d overlay --subnet=10.10.10.0/24 RED
</code></pre>

<p>This creates the <code>RED</code> network with the 10.10.10.0/24 subnet.</p></li>
<li><p>Check that the network is running on your node.</p>

<pre><code>$ docker network ls
NETWORK ID          NAME                DRIVER
7b1cda01f47f        RED                 overlay
38ffb13fa56d        none                null
34c7921e8cb7        host                host
25b439c6c8ca        bridge              bridge   
</code></pre></li>
<li><p>Now, log into the remaining nodes and immediately list the networks.</p>

<pre><code>$ docker network ls
NETWORK ID          NAME                DRIVER
7b1cda01f47f        RED                 overlay
1ae83a006465        host                host
501f891883cf        bridge              bridge
a141cc346b6c        none                null
</code></pre>

<p>You'll find that all three nodes can see the <code>RED</code> network, and that unlike the default networks, <code>RED</code> has the same ID on all three hosts even though you created it on only one of them.</p></li>
</ol>

<h2><a id="user-content-task-5-run-containers-on-the-red-network" class="anchor" href="#task-5-run-containers-on-the-red-network" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Task 5: Run Containers on the RED network</h2>

<p>Once your network is created, you can start a container on any of the hosts and it automatically is part of the network.</p>

<p>The following steps will create two containers and connect them both tot the RED network.</p>

<ol>
<li><p>Log into <code>node-1</code>.</p></li>
<li><p>Run a simple <code>busybox</code> container named <code>container1</code>.</p>

<pre><code>    $ docker run -itd --name container1 --net RED busybox
</code></pre></li>
<li><p>Log onto <code>node-2</code> and run a <code>busybox</code> container named <code>container2</code>.</p>

<pre><code>    $ docker run -itd --name container2 --net RED busybox
</code></pre></li>
<li><p>Return to node-1, and use <code>docker network inspect</code> to inspect the RED network. The <code>inspect</code> command only shows info about containers running on the local Docker host.</p>

<pre><code>node-1$ docker network inspect RED
[
    {
        "Name": "RED",
        "Id": "6f5f9bad52a6ca306e54b70cdac4707eb89b251271f89bf4d79effab28d90795",
        "Scope": "global",
        "Driver": "overlay",
        "IPAM": {
            "Driver": "default",
            "Config": [
                {
                    "Subnet": "10.10.10.0/24"
                }
            ]
        },
        "Containers": {
            "e9f06a4898d0e67e0f3fff806c08e1738cfdfa9c15e47c7d9fd8fd7368d95515": {
                "EndpointID": "9e12ef3fc3779e09ed33d12d4a8954afbbf86eaf31c8e4eace5aaedcfa64e359",
                "MacAddress": "02:42:0a:0a:1e:02",
                "IPv4Address": "10.10.10.2/24",
                "IPv6Address": ""
            }
        },
        "Options": {}
    }
]
</code></pre></li>
<li><p>Look at the <code>container1</code> network configuration.</p>

<pre><code>$ docker exec container1 ifconfig
eth0      Link encap:Ethernet  HWaddr 02:42:0A:0A:0A:02
          inet addr:10.10.10.2  Bcast:0.0.0.0  Mask:255.255.255.0
          inet6 addr: fe80::42:aff:fe0a:a02/64 Scope:Link
          UP BROADCAST RUNNING MULTICAST  MTU:1450  Metric:1
          RX packets:13 errors:0 dropped:0 overruns:0 frame:0
          TX packets:8 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:0
          RX bytes:1038 (1.0 KiB)  TX bytes:648 (648.0 B)

eth1      Link encap:Ethernet  HWaddr 02:42:AC:12:00:02
          inet addr:172.18.0.2  Bcast:0.0.0.0  Mask:255.255.0.0
          inet6 addr: fe80::42:acff:fe12:2/64 Scope:Link
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:14 errors:0 dropped:0 overruns:0 frame:0
          TX packets:8 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:0
          RX bytes:1128 (1.1 KiB)  TX bytes:648 (648.0 B)

lo        Link encap:Local Loopback
          inet addr:127.0.0.1  Mask:255.0.0.0
          inet6 addr: ::1/128 Scope:Host
          UP LOOPBACK RUNNING  MTU:65536  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:0
          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)
</code></pre>

<p>You can see that <code>eth0</code> was assigned an IP from RED's <code>10.10.10.0/24</code> subnet. There is also an <code>eth1</code> interface with a <code>172.18.0.0/16</code> address. When you create your first overlay network on any host, Docker also creates another network on each host called <code>docker_gwbridge</code>. Docker uses this network to provide external access for containers.</p>

<p>Every container in an overlay network gets an <code>eth</code> interface on the
<code>docker_gwbridge</code> which allows the container to access the external world. The
<code>docker_gwbridge</code> is similar to Docker's default <code>bridge</code> network, but unlike
the <code>bridge</code> it restricts Inter-Container Communication(ICC). Docker creates
only one <code>docker_gwbridge</code> bridge network per host regardless of the number of
overlay networks present.</p></li>
<li><p>Overlay networks also support a container discovery feature. Still on </p></li>
<li><p><code>node-1</code> run the following command.</p>

<pre><code>$ docker exec container1 cat /etc/hosts
10.10.10.2  42b58f7ea6dd
127.0.0.1   localhost
::1 localhost ip6-localhost ip6-loopback
fe00::0 ip6-localnet
ff00::0 ip6-mcastprefix
ff02::1 ip6-allnodes
ff02::2 ip6-allrouters
10.10.10.3  container2
10.10.10.3  container2.RED
</code></pre>

<p>As you can see, Docker added an entry to <code>/etc/hosts</code> for each container that
belongs to the <code>RED</code> overlay network. Therefore, to reach <code>container2</code> from
<code>container1</code>, you can simply use its name. Docker automatically updates
<code>/etc/hosts</code> when containers connect and disconnect from an overlay network.</p></li>
<li><p>Ping <code>container2</code> from <code>container1</code>.</p>

<pre><code>$ docker exec container1 ping -w 3 container2
PING container2 (10.10.10.3): 56 data bytes
64 bytes from 10.10.10.3: seq=0 ttl=64 time=1.221 ms
64 bytes from 10.10.10.3: seq=1 ttl=64 time=1.106 ms
64 bytes from 10.10.10.3: seq=2 ttl=64 time=1.042 ms
</code></pre>

<p>All TCP/UDP ports are open on an overlay network. There is no need to
 do any host-port mapping to expose these ports to the other containers 
on the same network. Test a TCP connection between <code>container1</code> and <code>container2</code>.</p></li>
<li><p>Goto <code>node-2</code> and get the it's RED network IP address.</p>

<pre><code>    $ docker exec container2 ifconfig | grep '10.10.10'
    inet addr:10.10.10.3  Bcast:0.0.0.0  Mask:255.255.255.0
</code></pre></li>
<li><p>Set <code>container2</code> to listen on port <code>9000</code> on that interface.</p>

<pre><code> $ docker exec container2 nc -l 10.10.10.3:9000
</code></pre></li>
<li><p>Return to <code>node-1</code> and test the TCP connection.</p>

<pre><code>    $ docker exec -it container1 nc container2 9000 &amp;&gt; /dev/null; echo $?
    0
</code></pre>

<p>If the output is <code>0</code>, then you have successfully established a TCP connection on port <code>9000</code>.</p></li>
</ol>

<h2><a id="user-content-task-6-create-the-blue-overlay-network" class="anchor" href="#task-6-create-the-blue-overlay-network" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Task 6: Create the "BLUE" Overlay Network</h2>

<p><a href="https://github.com/docker/dceu_tutorials/blob/94fd5f3e9372a8f58ca7b25f3232305731f7cd36/images/tut6-step5.png" target="_blank"><img src="0.basics-docker-overlay_files/tut6-step5.png" alt="" style="max-width:100%;"></a></p>

<ol>
<li><p>Create another <code>overlay</code> network called <code>BLUE</code> with the 10.10.20.0/24 subnet.</p>

<pre><code>$ docker network create -d overlay --subnet=10.10.20.0/24 BLUE
</code></pre>

<p>As you know, you can create this on any node (1-3).</p></li>
<li><p>Verify the network was created.</p>

<pre><code>$ docker network ls
NETWORK ID          NAME                DRIVER
4f2bbdadc4a9        BLUE                overlay             
a48323b9feea        RED                 overlay             
16cdaa4f5c70        none                null                
c8a3ec609d61        host                host                
0d24ea92c876        bridge              bridge  
</code></pre></li>
<li><p>Log into <code>node-2</code> and create <code>container3</code> on the <code>RED</code> network.</p>

<pre><code>$ docker run -itd --name container3 --net RED busybox
81f1d923a406471f2a3abdd2c56e942079c27cf092d45d241291156bd033f15d
</code></pre></li>
<li><p>Connect <code>container3</code> to the <code>BLUE</code> network.</p>

<pre><code>$ docker network connect BLUE container3
</code></pre></li>
<li><p>Log into <code>node-3</code> and  create <code>container4</code> on the BLUE network.  </p>

<pre><code>$ docker run -itd --name container4 --net BLUE busybox
</code></pre>

<p>At this point <code>container4</code> is on <code>node-3</code> and connected to the <code>BLUE</code> network.
While <code>container3</code> is on <code>node-2</code> but connected to both the <code>RED</code> and <code>BLUE</code> networks. This way, <code>container3</code> is able to communicate to <code>container4</code> over the <code>BLUE</code> network and  to <code>container1</code> and <code>container2</code> over the <code>RED</code> network.</p></li>
<li><p>Go to <code>node-2</code> and observe that <code>container3</code> now has interfaces in both networks.</p>

<pre><code>    $ docker exec container3 ifconfig
</code></pre></li>
</ol>

<h2><a id="user-content-task-7-cross-network-communication" class="anchor" href="#task-7-cross-network-communication" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Task 7: Cross-Network Communication</h2>

<p>At this point, <code>container2</code> and <code>container3</code> can communicate over the <code>RED</code> overlay network. They are both on the same <code>docker_gwbridge</code> but they cannot communicate using that bridge network without host-port mapping. The <code>docker_gwbridge</code> is used for all other traffic.</p>

<p><a href="https://github.com/docker/dceu_tutorials/blob/94fd5f3e9372a8f58ca7b25f3232305731f7cd36/images/tut6-step6.png" target="_blank"><img src="0.basics-docker-overlay_files/tut6-step6.png" alt="" style="max-width:100%;"></a></p>

<p>While <code>container1</code> and <code>container4</code> are on 
separate overlay networks and by default can not communicate. If you 
need them to communicate, you can either put them on the same overlay 
network or map them to a host port.</p>

<p>If you map a host-port to the container port, the container's <code>docker_gwbridge</code> interface/IP address must be mapped to the host's IP/Port. Let's connect <code>container1</code> and <code>container4</code> using host-port mapping.</p>

<p><a href="https://github.com/docker/dceu_tutorials/blob/94fd5f3e9372a8f58ca7b25f3232305731f7cd36/images/tut6-step7.png" target="_blank"><img src="0.basics-docker-overlay_files/tut6-step7.png" alt="" style="max-width:100%;"></a></p>

<ol>
<li><p>Go to <code>node-3</code> and remove <code>container4</code>.</p>

<pre><code>$ docker rm -f container4
</code></pre>

<p>You have to remove <code>container4</code> because you can't publish a port on a running container.</p></li>
<li><p>Now recreate <code>container4</code> but this time publish port <code>9000</code>.</p>

<pre><code>$ docker run -it --name container4 --net BLUE -p 9000:9000 busybox nc -l 0.0.0.0:9000
</code></pre></li>
<li><p>Return to <code>node-1</code> and test port <code>9000</code>.</p>

<p>Make sure you provide the <code>Private IP</code> value for <code>node-3</code> where you started <code>container4</code> (you can get this using the <code>ip a</code> command from the terminal of <code>node-3</code>).</p>

<pre><code>$ docker exec -it container1 nc &lt;NODE_3_PRIVATE_IP&gt; 9000 &amp;&gt; /dev/null; echo $?
</code></pre>

<p>If the output is <code>0</code>, then you have successfully established a TCP connection on port <code>9000</code> using host-port mapping.</p></li>
</ol>

<h2><a id="user-content-task-8-reconnecting-containers" class="anchor" href="#task-8-reconnecting-containers" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Task 8: Reconnecting Containers</h2>

<p>You can easily disconnect containers from any network and connect them to another. Try this now.</p>

<ol>
<li><p>On node-2 disconnect <code>container2</code> from the <code>RED</code> network.</p>

<pre><code>$ docker network disconnect RED container2
</code></pre></li>
<li><p>Now attach <code>container2</code> to the <code>BLUE</code> network.</p>

<pre><code>$ docker network connect BLUE container2
</code></pre></li>
<li><p>Observe that <code>container2</code> has an interface in <code>BLUE</code> network.</p>

<pre><code>$ docker exec container2 ifconfig
</code></pre></li>
</ol>

<h2><a id="user-content-conclusion" class="anchor" href="#conclusion" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Conclusion</h2>

<p>Congrats! You have completed the tutorial!</p>

<p>In this tutorial you learned about the new networking features 
introduced in Docker 1.9. You created a two multi-host overlay network 
that spanned multiple Docker hosts. You also observed how 
inter-container networking works in different scenarios.</p>

<h3><a id="user-content-share-on-twitter" class="anchor" href="#share-on-twitter" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Share on Twitter!</h3>

<p>
<a href="http://ctt.ec/4a7lc">
<img src="0.basics-docker-overlay_files/687474703a2f2f7777772e77796e746572636f6e2e636f6d2f77702d636f.png" data-canonical-src="http://www.wyntercon.com/wp-content/uploads/2015/04/twitter-bird-blue-on-white-small.png" style="max-width:100%;" width="100" height="100">
</a></p><a href="http://ctt.ec/4a7lc">

</a><h2><a href="http://ctt.ec/4a7lc"></a><a id="user-content-cleanup" class="anchor" href="#cleanup" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Cleanup</h2>

<p>If you plan to do another lab, you need to cleanup your EC2 
instances. Cleanup removes any environment variables, configuration 
changes, Docker images, and running containers. To do a clean up,</p>

<ol>
<li><p>Log into each EC2 instance you used and run the following:</p>

<pre><code>$ source /home/ubuntu/cleanup.sh
</code></pre></li>
</ol>

<h2><a id="user-content-related-information" class="anchor" href="#related-information" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Related information</h2>

<ul><a href="http://ctt.ec/4a7lc">
</a><li><a href="http://ctt.ec/4a7lc"></a><a href="http://blog.docker.com/2015/11/docker-multi-host-networking-ga/">Docker Multi-Host Networking overview</a></li>
</ul>
</article>
  </div>

</div>

<button type="button" data-facebox="#jump-to-line" data-facebox-class="linejump" data-hotkey="l" class="d-none">Jump to Line</button>
<div id="jump-to-line" style="display:none">
  <!-- '"` --><!-- </textarea></xmp> --><form accept-charset="UTF-8" action="" class="js-jump-to-line-form" method="get"><div style="margin:0;padding:0;display:inline"><input name="utf8" value="✓" type="hidden"></div>
    <input class="form-control linejump-input js-jump-to-line-field" placeholder="Jump to line…" aria-label="Jump to line" autofocus="" type="text">
    <button type="submit" class="btn">Go</button>
</form></div>

  </div>
  <div class="modal-backdrop js-touch-events"></div>
</div>


    </div>
  </div>

    </div>

        <div class="container site-footer-container">
  <div class="site-footer" role="contentinfo">
    <ul class="site-footer-links float-right">
        <li><a href="https://github.com/contact" data-ga-click="Footer, go to contact, text:contact">Contact GitHub</a></li>
      <li><a href="https://developer.github.com/" data-ga-click="Footer, go to api, text:api">API</a></li>
      <li><a href="https://training.github.com/" data-ga-click="Footer, go to training, text:training">Training</a></li>
      <li><a href="https://shop.github.com/" data-ga-click="Footer, go to shop, text:shop">Shop</a></li>
        <li><a href="https://github.com/blog" data-ga-click="Footer, go to blog, text:blog">Blog</a></li>
        <li><a href="https://github.com/about" data-ga-click="Footer, go to about, text:about">About</a></li>

    </ul>

    <a href="https://github.com/" aria-label="Homepage" class="site-footer-mark" title="GitHub">
      <svg aria-hidden="true" class="octicon octicon-mark-github" height="24" version="1.1" viewBox="0 0 16 16" width="24"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path></svg>
</a>
    <ul class="site-footer-links">
      <li>© 2017 <span title="0.10358s from github-fe-3d613a9.cp1-iad.github.net">GitHub</span>, Inc.</li>
        <li><a href="https://github.com/site/terms" data-ga-click="Footer, go to terms, text:terms">Terms</a></li>
        <li><a href="https://github.com/site/privacy" data-ga-click="Footer, go to privacy, text:privacy">Privacy</a></li>
        <li><a href="https://github.com/security" data-ga-click="Footer, go to security, text:security">Security</a></li>
        <li><a href="https://status.github.com/" data-ga-click="Footer, go to status, text:status">Status</a></li>
        <li><a href="https://help.github.com/" data-ga-click="Footer, go to help, text:help">Help</a></li>
    </ul>
  </div>
</div>



    

    <div id="ajax-error-message" class="ajax-error-message flash flash-error">
      <svg aria-hidden="true" class="octicon octicon-alert" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M8.865 1.52c-.18-.31-.51-.5-.87-.5s-.69.19-.87.5L.275 13.5c-.18.31-.18.69 0 1 .19.31.52.5.87.5h13.7c.36 0 .69-.19.86-.5.17-.31.18-.69.01-1L8.865 1.52zM8.995 13h-2v-2h2v2zm0-3h-2V6h2v4z"></path></svg>
      <button type="button" class="flash-close js-flash-close js-ajax-error-dismiss" aria-label="Dismiss error">
        <svg aria-hidden="true" class="octicon octicon-x" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M7.48 8l3.75 3.75-1.48 1.48L6 9.48l-3.75 3.75-1.48-1.48L4.52 8 .77 4.25l1.48-1.48L6 6.52l3.75-3.75 1.48 1.48z"></path></svg>
      </button>
      You can't perform that action at this time.
    </div>


      
      <script crossorigin="anonymous" integrity="sha256-ms83xOg2RIrlBasYYhooeAygj1P5S82HGgqZUu4KXEw=" src="0.basics-docker-overlay_files/frameworks-9acf37c4e836448ae505ab18621a28780ca08f53f94bcd871a.js"></script>
      <script async="async" crossorigin="anonymous" integrity="sha256-893KVKT0M/XPB28IGpVQELYWUb4oFs59Yd4HY67WTM8=" src="0.basics-docker-overlay_files/github-f3ddca54a4f433f5cf076f081a955010b61651be2816ce7d61de07.js"></script>
      
      
      
      
    <div class="js-stale-session-flash stale-session-flash flash flash-warn flash-banner d-none">
      <svg aria-hidden="true" class="octicon octicon-alert" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M8.865 1.52c-.18-.31-.51-.5-.87-.5s-.69.19-.87.5L.275 13.5c-.18.31-.18.69 0 1 .19.31.52.5.87.5h13.7c.36 0 .69-.19.86-.5.17-.31.18-.69.01-1L8.865 1.52zM8.995 13h-2v-2h2v2zm0-3h-2V6h2v4z"></path></svg>
      <span class="signed-in-tab-flash">You signed in with another tab or window. <a href="">Reload</a> to refresh your session.</span>
      <span class="signed-out-tab-flash">You signed out in another tab or window. <a href="">Reload</a> to refresh your session.</span>
    </div>
    <div class="facebox" id="facebox" style="display:none;">
  <div class="facebox-popup">
    <div class="facebox-content" role="dialog" aria-labelledby="facebox-header" aria-describedby="facebox-description">
    </div>
    <button type="button" class="facebox-close js-facebox-close" aria-label="Close modal">
      <svg aria-hidden="true" class="octicon octicon-x" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M7.48 8l3.75 3.75-1.48 1.48L6 9.48l-3.75 3.75-1.48-1.48L4.52 8 .77 4.25l1.48-1.48L6 6.52l3.75-3.75 1.48 1.48z"></path></svg>
    </button>
  </div>
</div>

  


</body></html>